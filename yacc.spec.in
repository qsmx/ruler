%{

package ruler

import (
    "fmt"
)

%}

%union{
    value           interface{}

    value_int       int64
    value_bool      bool
    value_string    string
    value_float     float64
    value_slice     []interface{}
}

%token  INT, FLOAT, TRUE, FALSE, STRING, IDENT, ARRAYS, FILTER
%token  EQU, NEQ, LSS, LEQ, GTR, GEQ
%token  AND, OR, IN, NOTIN

%left   OR
%left   AND
%left   EQU NEQ
%left   LSS LEQ GTR GEQ
%left   '-' '+'
%left   '*' '/'
%left   NEG     /* negation--unary minus */
%right  '^'     /* exponentiation */

%type   <value_string>  INT, FLOAT, STRING, IDENT, ARRAYS, FILTER
%type   <value_string>  Expr, Filter
%type   <value>         FilterData
%type   <value_bool>   Condition

%%
